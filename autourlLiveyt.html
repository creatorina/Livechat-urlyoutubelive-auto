
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Auto Live Chat YouTube</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: transparent;
      overflow: hidden;
    }
    iframe {
      border: none;
      width: 100%;
      height: 100vh;
    }
  </style>
</head>
<body>
  <iframe id="chat-iframe"></iframe>

  <script>
    const API_KEY = "AIzaSyDwyVmxv3RKZETh-qgByWbQaVK7Naf4-L0";
    const CHANNEL_ID = "UCibFcTqpMXuOKoJkX4UK0Dw";

    async function getLiveVideoId() {
      const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&eventType=live&type=video&key=${API_KEY}`;
      const res = await fetch(url);
      const data = await res.json();
      return data.items[0]?.id?.videoId || null;
    }

    async function setChatIframe() {
      const videoId = await getLiveVideoId();
      if (!videoId) {
        document.body.innerHTML = "<h3 style='color: white; text-align: center; margin-top: 20px;'>ðŸ”´ Tidak ada live stream aktif saat ini</h3>";
        return;
      }
      const embedUrl = `https://www.youtube.com/live_chat?v=${videoId}&embed_domain=${location.hostname}`;
      document.getElementById("chat-iframe").src = embedUrl;
    }

    setChatIframe();
  </script>
</body>
</html>
